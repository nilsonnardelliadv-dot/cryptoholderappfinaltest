<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoPanel HOLDER - Sistema de Acumula√ß√£o de Longo Prazo</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.20.0/package/dist/xlsx.full.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['JetBrains Mono', 'monospace'] },
                    colors: {
                        dark: { 950: '#05070a', 900: '#0b0e14', 800: '#151a23', 700: '#232a3b', 600: '#374151' },
                        brand: { 500: '#3b82f6', 600: '#2563eb' },
                        score: { 
                            buy: '#10b981',       // > 70
                            hold: '#f59e0b',      // 40-70
                            sell: '#ef4444',      // < 40
                            accumulate: '#22c55e', // Acumula√ß√£o ativa
                            distribute: '#ec4899' // Distribui√ß√£o
                        }
                    },
                    animation: { 
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite'
                    }
                }
            }
        }
    </script>

    <style>
        /* Estilos base otimizados para Holder */
        :root {
            --color-buy: #10b981;
            --color-hold: #f59e0b;
            --color-sell: #ef4444;
            --color-accumulate: #22c55e;
            --color-distribute: #ec4899;
        }
        
        body { 
            background: linear-gradient(135deg, #05070a 0%, #0b0e14 50%, #151a23 100%);
            color: #e5e7eb; 
            min-height: 100vh;
            font-family: 'Inter', sans-serif;
        }
        
        /* Cards com gradientes tem√°ticos */
        .card-accumulate {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(16, 185, 129, 0.02) 100%);
            border-left: 4px solid var(--color-accumulate);
        }
        
        .card-distribute {
            background: linear-gradient(135deg, rgba(236, 72, 153, 0.05) 0%, rgba(236, 72, 153, 0.02) 100%);
            border-left: 4px solid var(--color-distribute);
        }
        
        .card-hold {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.05) 0%, rgba(245, 158, 11, 0.02) 100%);
            border-left: 4px solid var(--color-hold);
        }
        
        /* Indicadores de volume */
        .volume-bar {
            height: 4px;
            border-radius: 2px;
            background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%);
            position: relative;
            overflow: hidden;
        }
        
        .volume-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Progresso de acumula√ß√£o */
        .accumulation-progress {
            height: 6px;
            border-radius: 3px;
            background: rgba(255,255,255,0.1);
            overflow: hidden;
        }
        
        .accumulation-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, #22c55e 100%);
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        /* Tooltip avan√ßado */
        .advanced-tooltip {
            background: linear-gradient(135deg, rgba(11, 14, 20, 0.95) 0%, rgba(23, 42, 70, 0.95) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(59, 130, 246, 0.3);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            border-radius: 12px;
        }
        
        /* Anima√ß√µes */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        /* Gr√°ficos customizados */
        .sparkline {
            stroke-width: 2;
            fill: none;
        }
        
        .sparkline-up {
            stroke: #10b981;
        }
        
        .sparkline-down {
            stroke: #ef4444;
        }
        
        /* Responsividade */
        @media (max-width: 768px) {
            .mobile-stack { flex-direction: column !important; }
            .mobile-full { width: 100% !important; }
            .mobile-text-center { text-align: center !important; }
        }
        
        /* Scrollbar customizada */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(11, 14, 20, 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col font-sans">

    <!-- Header Principal -->
    <header class="bg-dark-900/80 backdrop-blur-lg sticky top-0 z-50 border-b border-gray-800 shadow-xl">
        <div class="max-w-[1800px] mx-auto px-4 sm:px-6 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-gradient-to-br from-brand-600 to-blue-900 rounded-xl flex items-center justify-center shadow-lg">
                    <i class="fa-solid fa-diamond text-white text-lg"></i>
                </div>
                <div>
                    <h1 class="font-bold text-xl text-white tracking-tight">
                        CryptoPanel<span class="text-brand-500 font-extrabold">HOLDER</span>
                        <span class="text-[10px] text-gray-400 bg-gray-800 rounded px-2 py-1 ml-2">v2.0 LONG TERM</span>
                    </h1>
                    <p class="text-xs text-gray-500 mt-1">Sistema de Acumula√ß√£o Estrat√©gica ‚Ä¢ Buy Low, Hold Strong</p>
                </div>
            </div>
            
            <div class="flex items-center gap-3">
                <!-- Indicador de Mercado Global -->
                <div class="hidden md:flex items-center gap-4 px-4 py-2 bg-dark-800 rounded-lg border border-gray-700">
                    <div class="text-center">
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest">BTC Dominance</div>
                        <div class="text-sm font-bold text-white">52.4%</div>
                    </div>
                    <div class="h-6 w-px bg-gray-700"></div>
                    <div class="text-center">
                        <div class="text-[10px] text-gray-400 uppercase tracking-widest">Fear & Greed</div>
                        <div class="text-sm font-bold text-green-400">68</div>
                    </div>
                </div>
                
                <!-- Controles -->
                <button id="refreshData" class="p-2 bg-brand-600 hover:bg-brand-500 rounded-lg text-white transition-colors">
                    <i class="fa-solid fa-rotate"></i>
                </button>
                
                <button onclick="HolderUI.openSettings()" class="p-2 bg-dark-800 hover:bg-gray-700 rounded-lg border border-gray-700 transition-colors">
                    <i class="fa-solid fa-sliders"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Barra de Status do Mercado -->
    <div class="bg-gradient-to-r from-dark-800 to-dark-900 border-y border-gray-800">
        <div class="max-w-[1800px] mx-auto px-4 py-2">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="flex items-center justify-between p-3 bg-dark-900/50 rounded-lg border border-gray-800">
                    <div>
                        <div class="text-xs text-gray-400">Total Market Cap</div>
                        <div class="text-lg font-bold text-white">$2.4T</div>
                    </div>
                    <div class="text-green-400 text-sm">
                        <i class="fa-solid fa-arrow-up mr-1"></i> 3.2%
                    </div>
                </div>
                
                <div class="flex items-center justify-between p-3 bg-dark-900/50 rounded-lg border border-gray-800">
                    <div>
                        <div class="text-xs text-gray-400">24h Volume</div>
                        <div class="text-lg font-bold text-white">$84.2B</div>
                    </div>
                    <div class="text-red-400 text-sm">
                        <i class="fa-solid fa-arrow-down mr-1"></i> 1.8%
                    </div>
                </div>
                
                <div class="flex items-center justify-between p-3 bg-dark-900/50 rounded-lg border border-gray-800">
                    <div>
                        <div class="text-xs text-gray-400">Stablecoins Dominance</div>
                        <div class="text-lg font-bold text-white">12.8%</div>
                    </div>
                    <div class="text-gray-400 text-sm">
                        <i class="fa-solid fa-minus mr-1"></i> 0.2%
                    </div>
                </div>
                
                <div class="flex items-center justify-between p-3 bg-dark-900/50 rounded-lg border border-gray-800">
                    <div>
                        <div class="text-xs text-gray-400">Alt Season Index</div>
                        <div class="text-lg font-bold text-yellow-400">74</div>
                    </div>
                    <div class="text-green-400 text-sm">
                        <i class="fa-solid fa-arrow-up mr-1"></i> 5.1%
                    </div>
                </div>
            </div>
        </div>
    </div>

    <main class="flex-1 max-w-[1800px] mx-auto px-4 py-6 w-full">
        <!-- Se√ß√£o 1: Ranking de Oportunidades HOLDER -->
        <section class="mb-8">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold text-white flex items-center gap-2">
                    <i class="fa-solid fa-ranking-star text-yellow-500"></i>
                    Ranking de Oportunidades HOLDER
                </h2>
                <div class="flex gap-2">
                    <button class="px-3 py-1 bg-dark-800 rounded-lg text-sm border border-gray-700 hover:bg-gray-800">
                        <i class="fa-solid fa-filter mr-2"></i>Filtrar
                    </button>
                    <button onclick="HolderExport.generateReport()" class="px-3 py-1 bg-green-600 hover:bg-green-500 rounded-lg text-sm">
                        <i class="fa-solid fa-file-excel mr-2"></i>Exportar
                    </button>
                </div>
            </div>
            
            <div class="bg-dark-900/50 rounded-xl border border-gray-800 overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-dark-800">
                            <tr class="text-left text-xs uppercase text-gray-400">
                                <th class="p-4">#</th>
                                <th class="p-4">Ativo</th>
                                <th class="p-4 text-right">Pre√ßo</th>
                                <th class="p-4 text-center">Score HOLDER</th>
                                <th class="p-4 text-center">RSI (14d)</th>
                                <th class="p-4 text-center">Volume / M√©dia</th>
                                <th class="p-4 text-center">Dist. ATH</th>
                                <th class="p-4 text-center">Market Cap</th>
                                <th class="p-4 text-center">Recomenda√ß√£o</th>
                                <th class="p-4 text-right">A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="holder-ranking" class="divide-y divide-gray-800">
                            <!-- Dados ser√£o inseridos via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        
        <!-- Se√ß√£o 2: Painel de An√°lise HOLDER -->
        <section class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
            <!-- Card 1: Top Acumula√ß√£o -->
            <div class="bg-dark-900/50 rounded-xl border border-gray-800 p-5 card-accumulate">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-bold text-white flex items-center gap-2">
                        <i class="fa-solid fa-chart-line text-green-400"></i>
                        Top Acumula√ß√£o
                    </h3>
                    <span class="text-xs text-gray-400">Oportunidades de compra</span>
                </div>
                <div id="accumulation-list" class="space-y-3">
                    <!-- Lista gerada dinamicamente -->
                </div>
            </div>
            
            <!-- Card 2: Alerta de Distribui√ß√£o -->
            <div class="bg-dark-900/50 rounded-xl border border-gray-800 p-5 card-distribute">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-bold text-white flex items-center gap-2">
                        <i class="fa-solid fa-chart-line text-pink-400"></i>
                        Alerta de Distribui√ß√£o
                    </h3>
                    <span class="text-xs text-gray-400">Considerar venda parcial</span>
                </div>
                <div id="distribution-list" class="space-y-3">
                    <!-- Lista gerada dinamicamente -->
                </div>
            </div>
            
            <!-- Card 3: Holders em Destaque -->
            <div class="bg-dark-900/50 rounded-xl border border-gray-800 p-5 card-hold">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-bold text-white flex items-center gap-2">
                        <i class="fa-solid fa-hold text-yellow-400"></i>
                        Holders em Destaque
                    </h3>
                    <span class="text-xs text-gray-400">Manter posi√ß√£o</span>
                </div>
                <div id="hold-list" class="space-y-3">
                    <!-- Lista gerada dinamicamente -->
                </div>
            </div>
        </section>
        
        <!-- Se√ß√£o 3: Cards de An√°lise Detalhada -->
        <section class="mb-8">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold text-white flex items-center gap-2">
                    <i class="fa-solid fa-magnifying-glass-chart text-brand-500"></i>
                    An√°lise Detalhada por Ativo
                </h2>
                <div class="relative">
                    <input type="text" 
                           id="search-assets" 
                           placeholder="Buscar ativo (BTC, ETH...)" 
                           class="bg-dark-800 border border-gray-700 rounded-lg px-4 py-2 text-sm focus:border-brand-500 outline-none w-64">
                </div>
            </div>
            
            <div id="assets-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- Cards ser√£o gerados dinamicamente -->
            </div>
        </section>
        
        <!-- Se√ß√£o 4: M√©tricas de Mercado para HOLDERS -->
        <section class="mb-8">
            <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                <i class="fa-solid fa-chart-bar text-purple-500"></i>
                M√©tricas de Mercado para HOLDERS
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <!-- M√©trica 1: Valuation Relativa -->
                <div class="bg-dark-900/50 rounded-xl border border-gray-800 p-5">
                    <div class="flex items-center justify-between mb-3">
                        <h4 class="font-semibold text-white">Valuation Relativa</h4>
                        <i class="fa-solid fa-scale-balanced text-blue-400"></i>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">P/S Ratio</span>
                            <span class="text-white font-mono">8.4</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">P/B Ratio</span>
                            <span class="text-white font-mono">3.2</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">NVT Ratio</span>
                            <span class="text-white font-mono">45.6</span>
                        </div>
                    </div>
                </div>
                
                <!-- M√©trica 2: Liquidez & Volume -->
                <div class="bg-dark-900/50 rounded-xl border border-gray-800 p-5">
                    <div class="flex items-center justify-between mb-3">
                        <h4 class="font-semibold text-white">Liquidez & Volume</h4>
                        <i class="fa-solid fa-water text-cyan-400"></i>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Volume / MCap</span>
                            <span class="text-white font-mono">3.8%</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Depth Score</span>
                            <span class="text-white font-mono">72/100</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Stablecoin Ratio</span>
                            <span class="text-white font-mono">28.5%</span>
                        </div>
                    </div>
                </div>
                
                <!-- M√©trica 3: Sentimento Holders -->
                <div class="bg-dark-900/50 rounded-xl border border-gray-800 p-5">
                    <div class="flex items-center justify-between mb-3">
                        <h4 class="font-semibold text-white">Sentimento Holders</h4>
                        <i class="fa-solid fa-brain text-green-400"></i>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Holder Conviction</span>
                            <span class="text-white font-mono">85%</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Supply Locked</span>
                            <span class="text-white font-mono">64.2%</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Avg Hold Time</span>
                            <span class="text-white font-mono">128d</span>
                        </div>
                    </div>
                </div>
                
                <!-- M√©trica 4: Risco & Volatilidade -->
                <div class="bg-dark-900/50 rounded-xl border border-gray-800 p-5">
                    <div class="flex items-center justify-between mb-3">
                        <h4 class="font-semibold text-white">Risco & Volatilidade</h4>
                        <i class="fa-solid fa-shield text-red-400"></i>
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Sharpe Ratio</span>
                            <span class="text-white font-mono">1.8</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Max Drawdown</span>
                            <span class="text-white font-mono">-24.3%</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-400">Volatility 30d</span>
                            <span class="text-white font-mono">68.4</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Se√ß√£o 5: Estrat√©gias de Acumula√ß√£o -->
        <section class="mb-8">
            <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                <i class="fa-solid fa-chess-board text-yellow-500"></i>
                Estrat√©gias de Acumula√ß√£o Sugeridas
            </h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
                <!-- Estrat√©gia 1: DCA Otimizado -->
                <div class="bg-gradient-to-br from-dark-800 to-dark-900 rounded-xl border border-gray-800 p-5">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-10 h-10 bg-blue-900/50 rounded-lg flex items-center justify-center">
                            <i class="fa-solid fa-calendar-day text-blue-400"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-white">DCA Otimizado</h4>
                            <p class="text-xs text-gray-400">Dollar-Cost Averaging inteligente</p>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-400">Pr√≥xima compra</span>
                                <span class="text-blue-400">-12.4% do ATH</span>
                            </div>
                            <div class="accumulation-progress">
                                <div class="accumulation-progress-fill" style="width: 65%"></div>
                            </div>
                        </div>
                        <button class="w-full bg-blue-600 hover:bg-blue-500 text-white py-2 rounded-lg text-sm font-semibold">
                            Configurar DCA
                        </button>
                    </div>
                </div>
                
                <!-- Estrat√©gia 2: Acumula√ß√£o em N√≠veis -->
                <div class="bg-gradient-to-br from-dark-800 to-dark-900 rounded-xl border border-gray-800 p-5">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-10 h-10 bg-green-900/50 rounded-lg flex items-center justify-center">
                            <i class="fa-solid fa-layer-group text-green-400"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-white">Acumula√ß√£o em N√≠veis</h4>
                            <p class="text-xs text-gray-400">Compras em suportes t√©cnicos</p>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <div class="text-sm text-gray-300">
                            <div class="flex justify-between mb-1">
                                <span>N√≠vel 1 (Fib 0.618)</span>
                                <span class="text-green-400">Ativo</span>
                            </div>
                            <div class="flex justify-between mb-1">
                                <span>N√≠vel 2 (SMA200)</span>
                                <span class="text-yellow-400">Pendente</span>
                            </div>
                            <div class="flex justify-between">
                                <span>N√≠vel 3 (ATL)</span>
                                <span class="text-red-400">Distante</span>
                            </div>
                        </div>
                        <button class="w-full bg-green-600 hover:bg-green-500 text-white py-2 rounded-lg text-sm font-semibold">
                            Definir N√≠veis
                        </button>
                    </div>
                </div>
                
                <!-- Estrat√©gia 3: Staking & Yield -->
                <div class="bg-gradient-to-br from-dark-800 to-dark-900 rounded-xl border border-gray-800 p-5">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-10 h-10 bg-purple-900/50 rounded-lg flex items-center justify-center">
                            <i class="fa-solid fa-coins text-purple-400"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-white">Staking & Yield</h4>
                            <p class="text-xs text-gray-400">Renda passiva enquanto segura</p>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <div class="grid grid-cols-2 gap-3 text-center">
                            <div class="bg-dark-800 rounded-lg p-2">
                                <div class="text-xs text-gray-400">APY M√©dio</div>
                                <div class="text-lg font-bold text-white">8.4%</div>
                            </div>
                            <div class="bg-dark-800 rounded-lg p-2">
                                <div class="text-xs text-gray-400">Risk Score</div>
                                <div class="text-lg font-bold text-yellow-400">Low</div>
                            </div>
                        </div>
                        <button class="w-full bg-purple-600 hover:bg-purple-500 text-white py-2 rounded-lg text-sm font-semibold">
                            Explorar Staking
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-dark-900 border-t border-gray-800 py-6 mt-12">
        <div class="max-w-[1800px] mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-gradient-to-br from-brand-600 to-blue-900 rounded-lg flex items-center justify-center">
                            <i class="fa-solid fa-diamond text-white text-sm"></i>
                        </div>
                        <span class="font-bold text-white">CryptoPanel<span class="text-brand-500">HOLDER</span></span>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">Sistema de an√°lise para investidores de longo prazo</p>
                </div>
                
                <div class="flex gap-6">
                    <div class="text-center">
                        <div class="text-xs text-gray-400">Ativos Monitorados</div>
                        <div class="text-lg font-bold text-white" id="total-assets">24</div>
                    </div>
                    <div class="text-center">
                        <div class="text-xs text-gray-400">Score M√©dio</div>
                        <div class="text-lg font-bold text-green-400" id="avg-score">68.4</div>
                    </div>
                    <div class="text-center">
                        <div class="text-xs text-gray-400">√öltima Atualiza√ß√£o</div>
                        <div class="text-lg font-bold text-white" id="last-update">--:--</div>
                    </div>
                </div>
            </div>
            
            <div class="text-center text-xs text-gray-600 mt-6 pt-6 border-t border-gray-800">
                <p>¬© 2024 CryptoPanel HOLDER. Para fins educacionais. N√£o √© recomenda√ß√£o de investimento.</p>
                <p class="mt-1">Dados fornecidos por Binance API ‚Ä¢ Atualizado em tempo real</p>
            </div>
        </div>
    </footer>

    <!-- Modais e Overlays -->
    <div id="asset-detail-modal" class="fixed inset-0 z-50 hidden bg-black/80 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-dark-900 rounded-xl border border-gray-800 w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <!-- Conte√∫do ser√° preenchido dinamicamente -->
        </div>
    </div>

    <div id="settings-modal" class="fixed inset-0 z-50 hidden bg-black/80 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-dark-900 rounded-xl border border-gray-800 w-full max-w-2xl">
            <!-- Configura√ß√µes -->
        </div>
    </div>

    <!-- Template para Card de Ativo -->
    <template id="asset-card-template">
        <div class="bg-dark-900/50 rounded-xl border border-gray-800 p-4 hover:border-brand-500 transition-colors cursor-pointer asset-card" data-symbol="">
            <div class="flex justify-between items-start mb-3">
                <div class="flex items-center gap-3">
                    <div class="relative">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center text-white font-bold holder-score-badge">
                            --
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold text-white text-lg asset-symbol">BTC</h4>
                        <div class="flex items-center gap-2 mt-1">
                            <span class="text-xs px-2 py-1 rounded bg-gray-800 text-gray-400 asset-category">Layer 1</span>
                            <span class="text-xs text-gray-500">#<span class="asset-rank">1</span></span>
                        </div>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-xl font-bold text-white asset-price">$0.00</div>
                    <div class="text-sm asset-change">0.00%</div>
                </div>
            </div>
            
            <div class="grid grid-cols-2 gap-3 mb-4">
                <div class="bg-dark-800 rounded-lg p-2">
                    <div class="text-xs text-gray-400 mb-1">RSI (14d)</div>
                    <div class="text-sm font-bold asset-rsi">--</div>
                </div>
                <div class="bg-dark-800 rounded-lg p-2">
                    <div class="text-xs text-gray-400 mb-1">Volume / M√©dia</div>
                    <div class="text-sm font-bold asset-volume-ratio">--</div>
                </div>
                <div class="bg-dark-800 rounded-lg p-2">
                    <div class="text-xs text-gray-400 mb-1">Market Cap</div>
                    <div class="text-sm font-bold asset-market-cap">--</div>
                </div>
                <div class="bg-dark-800 rounded-lg p-2">
                    <div class="text-xs text-gray-400 mb-1">Dist. ATH</div>
                    <div class="text-sm font-bold asset-ath-distance">--</div>
                </div>
            </div>
            
            <div class="mb-3">
                <div class="flex justify-between text-xs text-gray-400 mb-1">
                    <span>Progresso de Acumula√ß√£o</span>
                    <span class="asset-accumulation-progress-text">0%</span>
                </div>
                <div class="accumulation-progress">
                    <div class="accumulation-progress-fill asset-accumulation-progress-bar" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="flex gap-2">
                <button class="flex-1 bg-green-600 hover:bg-green-500 text-white py-2 rounded-lg text-sm font-semibold transition-colors">
                    <i class="fa-solid fa-plus mr-1"></i>Acumular
                </button>
                <button class="flex-1 bg-blue-600 hover:bg-blue-500 text-white py-2 rounded-lg text-sm font-semibold transition-colors">
                    <i class="fa-solid fa-chart-line mr-1"></i>Analisar
                </button>
            </div>
        </div>
    </template>

    <!-- Script Principal -->
    <script>
        // Sistema CryptoPanel HOLDER
        const HolderSystem = {
            // Configura√ß√µes
            config: {
                api: {
                    binance: 'https://api.binance.com/api/v3',
                    coinGecko: 'https://api.coingecko.com/api/v3',
                    fearGreed: 'https://api.alternative.me/fng'
                },
                refreshInterval: 30000, // 30 segundos
                defaultTokens: ['BTCUSDT', 'ETHUSDT', 'BNBUSDT', 'SOLUSDT', 'ADAUSDT', 'XRPUSDT', 'DOTUSDT', 'AVAXUSDT', 'MATICUSDT', 'LINKUSDT']
            },
            
            // Estado do Sistema
            state: {
                tokens: JSON.parse(localStorage.getItem('holder_tokens')) || this.config.defaultTokens,
                watchlist: JSON.parse(localStorage.getItem('holder_watchlist')) || [],
                alerts: JSON.parse(localStorage.getItem('holder_alerts')) || [],
                strategies: JSON.parse(localStorage.getItem('holder_strategies')) || [],
                marketData: {},
                holderScores: {},
                lastUpdate: null,
                wsConnection: null
            },
            
            // Inicializa√ß√£o
            async init() {
                console.log('üöÄ Inicializando CryptoPanel HOLDER...');
                
                // Carregar dados iniciais
                await this.loadMarketData();
                await this.calculateHolderScores();
                
                // Inicializar UI
                this.renderRanking();
                this.renderAssetCards();
                this.renderDashboardMetrics();
                
                // Configurar atualiza√ß√µes autom√°ticas
                this.setupAutoRefresh();
                
                // Configurar WebSocket
                this.setupWebSocket();
                
                // Atualizar timestamp
                this.updateLastUpdate();
                
                // Configurar event listeners
                this.setupEventListeners();
            },
            
            // Carregar dados de mercado
            async loadMarketData() {
                try {
                    // Carregar dados da Binance
                    for (const symbol of this.state.tokens) {
                        const [tickerData, klines, depth] = await Promise.all([
                            this.fetchBinanceTicker(symbol),
                            this.fetchBinanceKlines(symbol, '1d', 365), // 1 ano de dados
                            this.fetchBinanceDepth(symbol)
                        ]);
                        
                        this.state.marketData[symbol] = {
                            ...tickerData,
                            historicalData: klines,
                            marketDepth: depth,
                            timestamp: Date.now()
                        };
                    }
                    
                    console.log('‚úÖ Dados de mercado carregados');
                } catch (error) {
                    console.error('‚ùå Erro ao carregar dados:', error);
                }
            },
            
            // Calcular scores HOLDER
            async calculateHolderScores() {
                for (const symbol of this.state.tokens) {
                    const data = this.state.marketData[symbol];
                    if (!data) continue;
                    
                    const score = await this.calculateHolderScore(symbol, data);
                    this.state.holderScores[symbol] = score;
                }
                
                // Salvar scores
                localStorage.setItem('holder_scores', JSON.stringify(this.state.holderScores));
            },
            
            // Algoritmo de Score HOLDER
            async calculateHolderScore(symbol, marketData) {
                // Fatores para holders de longo prazo
                const factors = {
                    // 1. Valuation (40%)
                    valuation: {
                        weight: 0.4,
                        subfactors: {
                            rsi: this.calculateRSIScore(marketData),
                            distanceATH: this.calculateDistanceATHScore(marketData),
                            fibLevels: this.calculateFibonacciScore(marketData),
                            mCapRank: await this.calculateMarketCapScore(symbol)
                        }
                    },
                    
                    // 2. Fundamentais (30%)
                    fundamentals: {
                        weight: 0.3,
                        subfactors: {
                            volumeHealth: this.calculateVolumeScore(marketData),
                            liquidity: this.calculateLiquidityScore(marketData),
                            tokenomics: await this.calculateTokenomicsScore(symbol),
                            developerActivity: await this.calculateDevActivityScore(symbol)
                        }
                    },
                    
                    // 3. Sentimento (20%)
                    sentiment: {
                        weight: 0.2,
                        subfactors: {
                            holderConviction: this.calculateHolderConviction(symbol),
                            socialSentiment: await this.calculateSocialSentiment(symbol),
                            fearGreed: await this.getFearGreedIndex()
                        }
                    },
                    
                    // 4. Risco (10%)
                    risk: {
                        weight: 0.1,
                        subfactors: {
                            volatility: this.calculateVolatilityScore(marketData),
                            drawdown: this.calculateDrawdownScore(marketData),
                            correlationBTC: this.calculateBTCcorrelation(symbol, marketData)
                        }
                    }
                };
                
                // Calcular score total (0-100)
                let totalScore = 0;
                let totalWeight = 0;
                
                for (const [category, categoryData] of Object.entries(factors)) {
                    let categoryScore = 0;
                    let categoryWeight = 0;
                    
                    for (const [subfactor, score] of Object.entries(categoryData.subfactors)) {
                        categoryScore += score;
                        categoryWeight++;
                    }
                    
                    const avgCategoryScore = categoryWeight > 0 ? categoryScore / categoryWeight : 0;
                    totalScore += avgCategoryScore * categoryData.weight;
                    totalWeight += categoryData.weight;
                }
                
                // Ajustar para 0-100
                const finalScore = Math.min(100, Math.max(0, (totalScore / totalWeight) * 100));
                
                return {
                    score: Math.round(finalScore),
                    breakdown: factors,
                    recommendation: this.getRecommendation(finalScore),
                    timestamp: Date.now()
                };
            },
            
            // Fun√ß√µes auxiliares para c√°lculo de scores
            calculateRSIScore(marketData) {
                // Implementar c√°lculo RSI
                const rsi = marketData.rsi || 50;
                if (rsi < 30) return 90; // Oversold - excelente para compra
                if (rsi < 40) return 75; // Quase oversold - bom para compra
                if (rsi < 60) return 50; // Neutro
                if (rsi < 70) return 25; // Quase overbought
                return 10; // Overbought - evitar compra
            },
            
            calculateDistanceATHScore(marketData) {
                // Quanto mais longe do ATH, melhor para acumula√ß√£o
                const distance = marketData.distanceATH || 0;
                if (distance > 80) return 95; // Muito abaixo do ATH
                if (distance > 50) return 80; // Significativamente abaixo
                if (distance > 30) return 60; // Moderadamente abaixo
                if (distance > 10) return 40; // Pr√≥ximo do ATH
                return 20; // No ou perto do ATH
            },
            
            calculateVolumeScore(marketData) {
                // Volume saud√°vel indica liquidez
                const volumeRatio = marketData.volumeRatio || 1;
                if (volumeRatio > 3) return 90; // Volume muito alto
                if (volumeRatio > 1.5) return 75; // Volume acima da m√©dia
                if (volumeRatio > 0.7) return 50; // Volume normal
                if (volumeRatio > 0.3) return 30; // Volume baixo
                return 10; // Volume muito baixo
            },
            
            calculateLiquidityScore(marketData) {
                // Profundidade do mercado
                const depth = marketData.marketDepth || {};
                const bidAskSpread = depth.spread || 0;
                
                if (bidAskSpread < 0.1) return 90; // Spread muito baixo
                if (bidAskSpread < 0.5) return 75; // Spread baixo
                if (bidAskSpread < 1) return 50; // Spread moderado
                if (bidAskSpread < 2) return 30; // Spread alto
                return 10; // Spread muito alto
            },
            
            getRecommendation(score) {
                if (score >= 75) return {
                    action: 'ACCUMULATE',
                    color: 'var(--color-accumulate)',
                    icon: 'fa-plus',
                    description: 'Forte oportunidade de acumula√ß√£o'
                };
                if (score >= 60) return {
                    action: 'BUY',
                    color: 'var(--color-buy)',
                    icon: 'fa-arrow-up',
                    description: 'Boa oportunidade de compra'
                };
                if (score >= 40) return {
                    action: 'HOLD',
                    color: 'var(--color-hold)',
                    icon: 'fa-hold',
                    description: 'Manter posi√ß√£o atual'
                };
                if (score >= 25) return {
                    action: 'REDUCE',
                    color: 'var(--color-distribute)',
                    icon: 'fa-minus',
                    description: 'Considerar redu√ß√£o parcial'
                };
                return {
                    action: 'SELL',
                    color: 'var(--color-sell)',
                    icon: 'fa-arrow-down',
                    description: 'Considerar venda'
                };
            },
            
            // APIs
            async fetchBinanceTicker(symbol) {
                try {
                    const response = await fetch(`${this.config.api.binance}/ticker/24hr?symbol=${symbol}`);
                    return await response.json();
                } catch (error) {
                    console.error(`Erro ao buscar ticker ${symbol}:`, error);
                    return null;
                }
            },
            
            async fetchBinanceKlines(symbol, interval, limit) {
                try {
                    const response = await fetch(
                        `${this.config.api.binance}/klines?symbol=${symbol}&interval=${interval}&limit=${limit}`
                    );
                    return await response.json();
                } catch (error) {
                    console.error(`Erro ao buscar klines ${symbol}:`, error);
                    return [];
                }
            },
            
            async fetchBinanceDepth(symbol) {
                try {
                    const response = await fetch(`${this.config.api.binance}/depth?symbol=${symbol}&limit=20`);
                    return await response.json();
                } catch (error) {
                    console.error(`Erro ao buscar depth ${symbol}:`, error);
                    return { bids: [], asks: [] };
                }
            },
            
            // UI Methods
            renderRanking() {
                const tbody = document.getElementById('holder-ranking');
                if (!tbody) return;
                
                // Ordenar tokens por score
                const sortedTokens = this.state.tokens
                    .map(symbol => ({
                        symbol,
                        data: this.state.marketData[symbol],
                        score: this.state.holderScores[symbol]?.score || 0
                    }))
                    .filter(item => item.data)
                    .sort((a, b) => b.score - a.score);
                
                tbody.innerHTML = sortedTokens.map((item, index) => {
                    const data = item.data;
                    const score = item.score;
                    const recommendation = this.getRecommendation(score);
                    
                    return `
                        <tr class="hover:bg-white/5 transition-colors">
                            <td class="p-4 font-bold text-gray-400">${index + 1}</td>
                            <td class="p-4">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full flex items-center justify-center text-white font-bold" 
                                         style="background: ${recommendation.color}">
                                        ${score}
                                    </div>
                                    <div>
                                        <div class="font-bold text-white">${item.symbol.replace('USDT', '')}</div>
                                        <div class="text-xs text-gray-500">${item.symbol}</div>
                                    </div>
                                </div>
                            </td>
                            <td class="p-4 text-right font-mono text-white">
                                $${parseFloat(data.lastPrice).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 8 })}
                            </td>
                            <td class="p-4 text-center">
                                <div class="inline-flex items-center gap-2">
                                    <div class="text-lg font-bold" style="color: ${recommendation.color}">
                                        ${score}
                                    </div>
                                    <div class="text-xs px-2 py-1 rounded" style="background: ${recommendation.color}20; color: ${recommendation.color}">
                                        ${recommendation.action}
                                    </div>
                                </div>
                            </td>
                            <td class="p-4 text-center">
                                <div class="inline-flex items-center gap-1">
                                    <span class="font-mono">${this.calculateRSI(data) || '--'}</span>
                                    <i class="fa-solid ${this.calculateRSI(data) < 30 ? 'fa-arrow-down text-green-400' : 
                                                          this.calculateRSI(data) > 70 ? 'fa-arrow-up text-red-400' : 
                                                          'fa-minus text-gray-400'}"></i>
                                </div>
                            </td>
                            <td class="p-4 text-center">
                                <div class="flex flex-col items-center">
                                    <div class="text-sm font-mono">${(parseFloat(data.volume) / parseFloat(data.quoteVolume) * 100).toFixed(1)}%</div>
                                    <div class="volume-bar" style="width: 60px"></div>
                                </div>
                            </td>
                            <td class="p-4 text-center">
                                <span class="font-mono ${parseFloat(data.priceChangePercent) < 0 ? 'text-red-400' : 'text-green-400'}">
                                    ${data.priceChangePercent}%
                                </span>
                            </td>
                            <td class="p-4 text-center">
                                <div class="text-sm font-mono">
                                    ${this.formatMarketCap(parseFloat(data.quoteVolume))}
                                </div>
                            </td>
                            <td class="p-4 text-center">
                                <div class="inline-flex items-center gap-2">
                                    <i class="fa-solid ${recommendation.icon}" style="color: ${recommendation.color}"></i>
                                    <span class="text-sm" style="color: ${recommendation.color}">
                                        ${recommendation.action}
                                    </span>
                                </div>
                            </td>
                            <td class="p-4 text-right">
                                <button onclick="HolderUI.showAssetDetail('${item.symbol}')" 
                                        class="px-3 py-1 bg-brand-600 hover:bg-brand-500 rounded-lg text-sm text-white transition-colors">
                                    <i class="fa-solid fa-chart-line mr-1"></i>Detalhes
                                </button>
                            </td>
                        </tr>
                    `;
                }).join('');
            },
            
            renderAssetCards() {
                const grid = document.getElementById('assets-grid');
                if (!grid) return;
                
                // Ordenar por score
                const sortedTokens = this.state.tokens
                    .map(symbol => ({
                        symbol,
                        data: this.state.marketData[symbol],
                        score: this.state.holderScores[symbol]?.score || 0
                    }))
                    .filter(item => item.data)
                    .sort((a, b) => b.score - a.score);
                
                grid.innerHTML = sortedTokens.map((item, index) => {
                    const template = document.getElementById('asset-card-template').content.cloneNode(true);
                    const card = template.querySelector('.asset-card');
                    
                    // Preencher dados
                    card.querySelector('.asset-symbol').textContent = item.symbol.replace('USDT', '');
                    card.querySelector('.asset-price').textContent = 
                        `$${parseFloat(item.data.lastPrice).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 8 })}`;
                    
                    const change = parseFloat(item.data.priceChangePercent);
                    const changeElement = card.querySelector('.asset-change');
                    changeElement.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                    changeElement.className = `text-sm ${change >= 0 ? 'text-green-400' : 'text-red-400'}`;
                    
                    // Score
                    const scoreElement = card.querySelector('.holder-score-badge');
                    scoreElement.textContent = item.score;
                    const recommendation = this.getRecommendation(item.score);
                    scoreElement.style.background = recommendation.color;
                    
                    // RSI
                    card.querySelector('.asset-rsi').textContent = this.calculateRSI(item.data) || '--';
                    
                    // Market Cap
                    card.querySelector('.asset-market-cap').textContent = 
                        this.formatMarketCap(parseFloat(item.data.quoteVolume));
                    
                    // Event listeners
                    card.addEventListener('click', () => HolderUI.showAssetDetail(item.symbol));
                    
                    return card.outerHTML;
                }).join('');
            },
            
            renderDashboardMetrics() {
                // Atualizar m√©tricas do dashboard
                const totalAssets = document.getElementById('total-assets');
                const avgScore = document.getElementById('avg-score');
                
                if (totalAssets) totalAssets.textContent = this.state.tokens.length;
                
                if (avgScore) {
                    const scores = Object.values(this.state.holderScores)
                        .map(s => s.score)
                        .filter(s => s > 0);
                    
                    const average = scores.length > 0 ? 
                        (scores.reduce((a, b) => a + b, 0) / scores.length).toFixed(1) : '0.0';
                    
                    avgScore.textContent = average;
                    
                    // Colorir baseado no score
                    if (parseFloat(average) >= 70) avgScore.className = 'text-lg font-bold text-green-400';
                    else if (parseFloat(average) >= 50) avgScore.className = 'text-lg font-bold text-yellow-400';
                    else avgScore.className = 'text-lg font-bold text-red-400';
                }
            },
            
            // Utilit√°rios
            formatMarketCap(value) {
                if (value >= 1e12) return `$${(value / 1e12).toFixed(2)}T`;
                if (value >= 1e9) return `$${(value / 1e9).toFixed(2)}B`;
                if (value >= 1e6) return `$${(value / 1e6).toFixed(2)}M`;
                return `$${value.toLocaleString()}`;
            },
            
            calculateRSI(data) {
                // Implementa√ß√£o simplificada do RSI
                // Em produ√ß√£o, implementar c√°lculo real baseado em dados hist√≥ricos
                const change = parseFloat(data.priceChangePercent);
                if (change < -20) return 25; // Muito oversold
                if (change < -10) return 35; // Oversold
                if (change < 10) return 50; // Neutro
                if (change < 20) return 65; // Overbought
                return 75; // Muito overbought
            },
            
            updateLastUpdate() {
                const element = document.getElementById('last-update');
                if (element) {
                    const now = new Date();
                    element.textContent = now.toLocaleTimeString();
                }
            },
            
            setupAutoRefresh() {
                setInterval(async () => {
                    console.log('üîÑ Atualizando dados...');
                    await this.loadMarketData();
                    await this.calculateHolderScores();
                    this.renderRanking();
                    this.renderAssetCards();
                    this.renderDashboardMetrics();
                    this.updateLastUpdate();
                }, this.config.refreshInterval);
            },
            
            setupWebSocket() {
                // Implementar WebSocket para atualiza√ß√µes em tempo real
                try {
                    const ws = new WebSocket('wss://stream.binance.com:9443/ws/!ticker@arr');
                    
                    ws.onmessage = (event) => {
                        const data = JSON.parse(event.data);
                        this.processWebSocketData(data);
                    };
                    
                    ws.onerror = (error) => {
                        console.error('WebSocket error:', error);
                    };
                    
                    this.state.wsConnection = ws;
                } catch (error) {
                    console.error('Erro ao conectar WebSocket:', error);
                }
            },
            
            processWebSocketData(data) {
                // Processar atualiza√ß√µes em tempo real
                data.forEach(ticker => {
                    const symbol = ticker.s;
                    if (this.state.tokens.includes(symbol)) {
                        // Atualizar dados em tempo real
                        if (this.state.marketData[symbol]) {
                            this.state.marketData[symbol].lastPrice = ticker.c;
                            this.state.marketData[symbol].priceChangePercent = ticker.P;
                            this.state.marketData[symbol].volume = ticker.v;
                            
                            // Atualizar UI
                            this.updateAssetUI(symbol);
                        }
                    }
                });
            },
            
            updateAssetUI(symbol) {
                // Atualizar elementos da UI para um s√≠mbolo espec√≠fico
                const priceElements = document.querySelectorAll(`[data-symbol="${symbol}"] .asset-price`);
                priceElements.forEach(el => {
                    const data = this.state.marketData[symbol];
                    if (data) {
                        el.textContent = `$${parseFloat(data.lastPrice).toLocaleString('en-US', { 
                            minimumFractionDigits: 2, 
                            maximumFractionDigits: 8 
                        })}`;
                    }
                });
            },
            
            setupEventListeners() {
                // Search
                const searchInput = document.getElementById('search-assets');
                if (searchInput) {
                    searchInput.addEventListener('input', (e) => {
                        const term = e.target.value.toUpperCase();
                        document.querySelectorAll('.asset-card').forEach(card => {
                            const symbol = card.dataset.symbol || '';
                            card.style.display = symbol.includes(term) ? 'block' : 'none';
                        });
                    });
                }
                
                // Refresh button
                const refreshBtn = document.getElementById('refreshData');
                if (refreshBtn) {
                    refreshBtn.addEventListener('click', async () => {
                        refreshBtn.classList.add('animate-spin');
                        await this.loadMarketData();
                        await this.calculateHolderScores();
                        this.renderRanking();
                        this.renderAssetCards();
                        setTimeout(() => refreshBtn.classList.remove('animate-spin'), 500);
                    });
                }
            },
            
            // Fun√ß√µes placeholder para c√°lculos futuros
            async calculateMarketCapScore(symbol) { return 50; }
            async calculateTokenomicsScore(symbol) { return 50; }
            async calculateDevActivityScore(symbol) { return 50; }
            calculateHolderConviction(symbol) { return 50; }
            async calculateSocialSentiment(symbol) { return 50; }
            async getFearGreedIndex() { return 50; }
            calculateVolatilityScore(marketData) { return 50; }
            calculateDrawdownScore(marketData) { return 50; }
            calculateBTCcorrelation(symbol, marketData) { return 50; }
            calculateFibonacciScore(marketData) { return 50; }
        };
        
        // UI Controller
        const HolderUI = {
            showAssetDetail(symbol) {
                // Implementar modal de detalhes do ativo
                console.log('Mostrar detalhes:', symbol);
                // Aqui voc√™ implementaria um modal completo com gr√°ficos e an√°lises detalhadas
            },
            
            openSettings() {
                // Implementar modal de configura√ß√µes
                console.log('Abrir configura√ß√µes');
            }
        };
        
        // Export Controller
        const HolderExport = {
            generateReport() {
                // Gerar relat√≥rio Excel
                const data = [];
                
                for (const symbol of HolderSystem.state.tokens) {
                    const marketData = HolderSystem.state.marketData[symbol];
                    const score = HolderSystem.state.holderScores[symbol];
                    
                    if (marketData && score) {
                        data.push({
                            Symbol: symbol,
                            Price: parseFloat(marketData.lastPrice),
                            '24h Change': parseFloat(marketData.priceChangePercent),
                            'Holder Score': score.score,
                            Recommendation: score.recommendation.action,
                            RSI: HolderSystem.calculateRSI(marketData),
                            Volume: parseFloat(marketData.volume),
                            'Quote Volume': parseFloat(marketData.quoteVolume),
                            Timestamp: new Date().toLocaleString()
                        });
                    }
                }
                
                // Criar worksheet
                const ws = XLSX.utils.json_to_sheet(data);
                const wb = XLSX.utils.book_new();
                XLSX.utils.book_append_sheet(wb, ws, "Holder Report");
                
                // Gerar arquivo
                XLSX.writeFile(wb, `CryptoPanel_HOLDER_${new Date().toISOString().split('T')[0]}.xlsx`);
            }
        };
        
        // Inicializar sistema quando o DOM estiver pronto
        document.addEventListener('DOMContentLoaded', () => {
            HolderSystem.init();
        });
    </script>
</body>
</html>
